import Head from "next/head";
import Image from "next/image";
import { Inter } from "next/font/google";
import CodeEditorSVG from "../../components/CodeEditor/CodeEditor";
import AboutMeButton from "../../components/AboutMeButton/AboutMeButton";
import MyProjectsButton from "../../components/MyProjectsButton/MyProjectsButton";
import RedHeartIcon from "../../icons/RedHeartIcon";
import heroStyle from "../styles/hero.module.scss";
import projectsStyle from "../styles/projects.module.scss";
import aboutStyle from '../styles/about.module.scss'
import Navbar from "../../layouts/Navbar";
import ScrollDirection from "../../layouts/ScrollDirection";
import ProjectCard from "../../components/ProjectCard/ProjectCard";
import ReactIcon from "../../icons/ReactIcon";
import JavascriptIcon from "../../icons/JavascriptIcon";
import PythonIcon from "../../icons/PythonIcon";
import DjangoIcon from "../../icons/DjangoIcon";
import MySQLIcon from "../../icons/MySQLIcon";
import NextIcon from "../../icons/NextIcon";
import HTMLIcon from "../../icons/HTMLIcon";
import CSSIcon from "../../icons/CSSIcon";
import FramerMotionIcon from "../../icons/FramerMotionIcon";
import MobileIconsRow from "../../components/MobileIconsRow/MobileIconsRow";
import ExperienceCard from "../../components/ExperienceCard/ExperienceCard";
import StorageIcon from '@mui/icons-material/Storage';
import CodeIcon from '@mui/icons-material/Code';
import AnalyticsIcon from '@mui/icons-material/Analytics';
import { AnimatePresence, Reorder } from "framer-motion";
import { useEffect, useState } from "react";

const inter = Inter({ subsets: ["latin"] });

export default function Home() {

   const [cardClicked, setCardClicked] = useState(false)

   function handleCardClick() {
      setCardClicked(true)
   }

   function clearSession () {
      sessionStorage.clear()
   }

   function skipToProjects() {
      window.scroll({
         left: window.innerWidth,
         behavior: 'smooth'
      })
   }

   function skipToAbout() {
      window.scroll({
         left: window.innerWidth * 2,
         behavior: 'smooth'
      })
   }

   useEffect(() => {
      window.addEventListener("beforeunload", clearSession)

      return () => {
         window.removeEventListener("beforeunload", clearSession)
      }
   })

   return (
      <>
         <Head>
            <title>Elbert - Home</title>
            <meta name='description' content='Generated by create next app' />
            <meta
               name='viewport'
               content='width=device-width, initial-scale=1'
               charset="UTF-8"
            />
            <link rel='icon' href='/favicon.ico' />
         </Head>
         <Navbar>
            <ScrollDirection
               pageNames={["home", "projects", "about"]}
               pageColors={["#c1f7f7", "#c1f7f7", "#c1f7f7"]}>
               <div className={heroStyle.hero}>
                  <div className={heroStyle.heroFirstLine}>
                     <div className={heroStyle.codeEditor}>
                        <CodeEditorSVG
                           id={heroStyle.heroCodeEditor}
                           text='console.log("Hello World!")'
                           animate={true}
                        />
                     </div>
                     
                     <div className={heroStyle.heroTextWrapper}>
                        <div className={heroStyle.heroText}>
                           <div className={heroStyle.headerText}>
                              <div>Hello World!</div>
                              <div>{"I'm Elbert."}</div>
                           </div>

                           <div className={heroStyle.subheaderText}>
                              {
                                 "Iâ€™m a bioinformatics student with a soft spot for frontend development."
                              }
                              <div className={heroStyle.heartIcon}>
                                 <RedHeartIcon
                                    fontSize='inherit'
                                    display='inline-block'
                                 />
                              </div>
                           </div>

                           <div className={heroStyle.buttonRow}>
                              <MyProjectsButton
                                 id={heroStyle.myProjectsButton}
                                 notifyClick={skipToProjects}
                              />
                              <AboutMeButton 
                                 id={heroStyle.aboutMeButton} 
                                 notifyClick={skipToAbout}
                              />
                           </div>
                        </div>
                     </div>
                  </div>
                  
                  <MobileIconsRow>
                     <HTMLIcon color='#37b0b0' />
                     <CSSIcon color='#37b0b0' />
                     <JavascriptIcon color='#37b0b0' />
                     <NextIcon color='#37b0b0' />
                     <ReactIcon color='#37b0b0' />
                     <FramerMotionIcon color='#37b0b0' />
                     <PythonIcon color='#37b0b0' />
                     <DjangoIcon color='#37b0b0' />
                     <MySQLIcon color='#37b0b0' />
                  </MobileIconsRow>
               </div>
               <div className={projectsStyle.projects}>
                  <div className={projectsStyle.projectCardsWrapper}>
                     <AnimatePresence mode='wait'>
                        {
                        !cardClicked ?
                        (
                        <>
                        <ProjectCard
                           header='COSMOUSE'
                           description='COSMOUSE is a fullstack project powered by React, Django, and a MySQL database. It is a bioinformatics portal integrating protein-protein interaction networks with embryonic expression data obtained from human and mouse models.'
                           imageSrc={"/images/cosmouse.png"}
                           notifyClick={handleCardClick}
                           linkURL={'/projects/cosmouse'}
                        />
                        <ProjectCard
                           header='Alphasense'
                           description='Alphasense augments missense variant effect prediction of the Missense3D software suite by selectively evaluating Alphafold model confidence metrics - implementing nearest-neighbour search algorithms to accelerate the analysis of protein structures.'
                           imageSrc={"/images/alphasense.png"}
                           notifyClick={handleCardClick}
                           linkURL={'/projects/alphasense'}
                        />
                        <ProjectCard
                           header='ICAC Scoresheet'
                           description='Not your typical CRUD app. ICAC Scoresheet was built to solve a very tedious issue in archery competitions - keeping track of scores! It is a mobile-first web app with archer, judges, and admin accounts to get things off pen and paper. (in-progress)'
                           imageSrc={"/images/ICAC_scoresheet.png"}
                           notifyClick={handleCardClick}
                           linkURL={'projects/icac-scoresheet'}
                        />
                        </>
                        ):(
                           <div key='dummyDiv'></div>
                        )}
                     </AnimatePresence>
                  </div>
               </div>
               <div className={aboutStyle.about}>
                  <div className={aboutStyle.aboutContents}>
                     <div className={aboutStyle.leftCol}>
                        <div className={aboutStyle.profilePicRow}>
                           <div className={aboutStyle.profilePic}>
                              <Image src='/images/profile_pic.jpg' fill/>
                           </div>
                           <h1>
                              <span className={aboutStyle.spanA}>{"Hi, I'm"}</span> 
                              <span className={aboutStyle.spanB}>Elbert.</span>
                              <span className={aboutStyle.emojis}>&#127470;&#127465;  &#127993;  &#127947;  &#129360;  &#128300;</span>
                           </h1>
                        </div>
                        <div className={aboutStyle.briefIntro}>
                           <h1>A little about me...</h1>
                           <p>
                              Having spent the past 4 years of my undergrad in the wet lab, I had a craving for exploring the applications of computational methods in biological research - leading to my current enrollment in the Bioinformatics and Theoretical Systems Biology MSc at Imperial College London. I am currently looking for career opportunities in computational genomics and web development.
                           </p>
                        </div>
                     </div>
                     <div className={aboutStyle.rightCol}>
                        <div className={aboutStyle.myExperienceHeader}>My Experience</div>
                        <div className={aboutStyle.experiences}>
                           <div className={aboutStyle.experience1}>
                              <ExperienceCard skillsIcon={<CodeIcon fontSize="inherit" color="inherit"/>} header="Web Development" description="I have worked with Python and Javascript-based fullstack web frameworks (Django and NextJS). My primary expertise is in building performant server-rendered component-based frontend user interfaces." imgSrc={'/images/ui_design_ideas.png'}/>
                           </div>
                           <div className={aboutStyle.experience2}>
                              <ExperienceCard skillsIcon={<AnalyticsIcon fontSize="inherit" color="inherit"/>} header="Big Data Analytics" description="I am experienced with managing and analyzing large volumes of data using Python and SQL databases. I am also proficient in data presentation using Javascript and Python data plotting libraries." imgSrc={'/images/big_data_analytics.png'}/>
                           </div>
                           <div className={aboutStyle.experience3}>
                              <ExperienceCard skillsIcon={<StorageIcon fontSize="inherit" color="inherit" />} header="Data Pipeline Engineering" description="My constant work with big data demands fast, modular, and scalable analysis pipelines. I am well-versed in designing and building multiprocessing workflows within Linux HPC environments." imgSrc={"/images/data_pipeline_engineering.png"}/>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </ScrollDirection>
         </Navbar>
      </>
   );
}
